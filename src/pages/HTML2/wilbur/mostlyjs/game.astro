<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Mandatory Fun | MostlyJS | Wilbur | HTML2</title>
</head>

<body id="myPage" style="background-color:cornflowerblue">
  <script is:inline>
    function sayHello() {
      var name = document.getElementById("name").value;
      document.getElementById("greeting").innerHTML = "Hello " + name;
    }

    function changeTextSize() {
      var facttxt = document.getElementById("fun");
      facttxt.style.fontSize = "30px";
    }

    function changeBackground() {
      var colour = document.getElementById("colorChoice").value;
      var bd = document.getElementById("myPage");
      bd.style.backgroundColor = colour;
    }
    var funIsClickable = 0;
    var funVar = 0;
    var score = 0;

    function funIsStop() {
      if (funIsClickable == 0) {
        pass;
      } else {
        alert("*fun noise*");
        score++;
        var funImg = document.getElementById("funmg");
        funImg.style.visibility = "hidden";
        document.getElementById("funn").innerHTML = "Current Score: " + score;
        funVar = 0;
        funImg.style.left = funVar + "px";
        funImg.style.visibility = "visible";
      }
    }

    function restart() {
      score = 0;
      funVar = 0;
      document.getElementById("funn").innerHTML = "";
      let funImg = document.getElementById("funmg");
      funImg.style.left = funVar + "px";
      funImg.style.visibility = "visible";
      funIsClickable = 1;
      let funGoBrrr = document.getElementById("funmg");
      let speed = Number(document.getElementById("diff").value);
      let id = setInterval(frame, 10);
      let w = window.innerWidth;

      function frame() {
        if (funVar >= w) {
          clearInterval(id);
          funGoBrrr.style.visibility = "hidden";
          alert("You died lol")
          document.getElementById("funn").innerHTML = "You ded. Your score is " + score
        } else {
          funVar = funVar + speed;
        }
        funGoBrrr.style.left = funVar + "px";
      }
    }
  </script>
  <div>What is your name?</div>
  <input type="text" id="name">
  <button onclick="sayHello()">Enter</button>
  <div id="greeting"></div>

  <h1>Mandatory Fun (this is fun i swear)</h1>
  <div id="fun" style="font-size:100%">This is fun</div>
  <img id="funmg" src="https://assets.c48.uk/images/HTML2/idk.jpeg" style="position: relative; left:0px; width: 200px" onclick="funIsStop()">
  <br>
  <br>
  Choose a difficulty:
  <select id="diff">
    <option value="1" selected>Easy</option>
    <option value="2">Normal</option>
    <option value="5">Hard (Like, a lot harder)</option>
  </select>
  <button onclick="restart()">Play/Restart</button>
  <div id="funn"></div>
  <button onclick="changeTextSize()">Make Text Bigger</button>
  <input type="color" id="colorChoice">
  <button onclick="changeBackground()">Make Colour Selected</button>
</body>